df %>%
ggplot(aes())
df %>%
select(c("ano" = "ano"))
df %>%
select(c("Ano" = "ano"))
columns(df)
cols(df)
col(df)
cols(df)
?cols
colnames(df)
?pivot_longer
df %>%
pivot_longer(
cols = starts_with("Veículos Envolvidos"),
names_to = "test"
)
df %>%
pivot_longer(
cols = starts_with("Veículos Envolvidos"),
names_to = "test"
)  %>%
View()
df %>% View()
df %>%
pivot_longer(cols = starts_with("Veículos Envolvidos"))  %>%
View()
df %>%
pivot_longer(cols = starts_with("Veículos Envolvidos"))
df %>%
pivot_longer(cols = starts_with("Veículos Envolvidos")) %>% View()
df %>%
pivot_longer(cols = starts_with("Veículos Envolvidos")) %>%
ggplot(aes(x = name)) %>%
geom_histogram()
df %>%
pivot_longer(cols = starts_with("Veículos Envolvidos")) %>%
ggplot(aes(x = name)) +
geom_histogram()
df %>%
pivot_longer(cols = starts_with("Veículos Envolvidos")) %>%
ggplot(aes(x = name)) +
geom_histogram(stat = "count")
df %>%
pivot_longer(cols = starts_with("Veículos Envolvidos")) %>%
ggplot(aes(x = name)) +
geom_histogram(stat = "sum")
df %>%
colnames()
df %>%
select(
"Bicicleta": "Veículos Envolvidos - Bicicleta"
)
df %>%
select(
"Bicicleta" = "Veículos Envolvidos - Bicicleta"
)
df %>%
colnames()
df %>%
select(
"bicicleta" = "Veículos Envolvidos - Bicicleta",
"caminhao" = "Veículos Envolvidos - Caminhão",
"automovel" = "Veículos Envolvidos - Automóvel",
"motocicleta" = "Veículos Envolvidos - Ônibus",
"onibus" = "Veículos Envolvidos - Bicicleta",
"pedestre" = "Veículos Envolvidos - Pedestre",
)
df %>%
select(
"bicicleta" = "Veículos Envolvidos - Bicicleta",
"caminhao" = "Veículos Envolvidos - Caminhão",
"automovel" = "Veículos Envolvidos - Automóvel",
"motocicleta" = "Veículos Envolvidos - Ônibus",
"onibus" = "Veículos Envolvidos - Bicicleta",
"pedestre" = "Veículos Envolvidos - Pedestre",
) %>%
summarize(
bicicletas = sum(bicicletas)
)
df %>%
select(
"bicicleta" = "Veículos Envolvidos - Bicicleta",
"caminhao" = "Veículos Envolvidos - Caminhão",
"automovel" = "Veículos Envolvidos - Automóvel",
"motocicleta" = "Veículos Envolvidos - Ônibus",
"onibus" = "Veículos Envolvidos - Bicicleta",
"pedestre" = "Veículos Envolvidos - Pedestre",
) %>%
summarize(
bicicletas = sum(bicicleta)
)
setwd("C:/git/PEE")
library(tidyverse)
library(readr)
library(MatchIt)
library(fixest)
library(readr)
df <- read_csv("output/data.csv")
View(df)
df.reg <- df.match %>%
filter(faixa_etaria != "Inválido", faixa_etaria != "100 anos ou mais") %>%
mutate(tx_abstencao = abstencoes / aptos) %>%
select(id_municipio_unico, passe_livre, faixa_etaria, tx_abstencao) %>%
pivot_wider(names_from = faixa_etaria, values_from = tx_abstencao) %>%
mutate(across(!c(id_municipio_unico, passe_livre), ~ . - `65 a 69 anos`))
df.reg <- df %>%
filter(faixa_etaria != "Inválido", faixa_etaria != "100 anos ou mais") %>%
mutate(tx_comparecimento = comparecimento / aptos,
faixa_etaria = str_replace(faixa_etaria, " ", "_")) %>%
select(id_municipio , passe_livre, faixa_etaria, tx_comparecimento) %>%
pivot_wider(names_from = faixa_etaria, values_from = tx_comparecimento) %>%
mutate(across(!c(id_municipio, passe_livre), ~ . - `65 a 69 anos`))
df %>%
filter(faixa_etaria != "Inválido", faixa_etaria != "100 anos ou mais") %>%
mutate(tx_comparecimento = comparecimento / aptos,
faixa_etaria = str_replace(faixa_etaria, " ", "_"))
?str_replace
df %>%
filter(faixa_etaria != "Inválido", faixa_etaria != "100 anos ou mais") %>%
mutate(tx_comparecimento = comparecimento / aptos,
faixa_etaria = str_replace_all(faixa_etaria, " ", "_"))
df.reg <- df %>%
filter(faixa_etaria != "Inválido", faixa_etaria != "100 anos ou mais") %>%
mutate(tx_comparecimento = comparecimento / aptos,
faixa_etaria = paste("i", str_replace_all(faixa_etaria, " ", "_"))) %>%
select(id_municipio , passe_livre, faixa_etaria, tx_comparecimento) %>%
pivot_wider(names_from = faixa_etaria, values_from = tx_comparecimento) %>%
mutate(across(!c(id_municipio, passe_livre), ~ . - `65 a 69 anos`))
df %>%
filter(faixa_etaria != "Inválido", faixa_etaria != "100 anos ou mais") %>%
mutate(tx_comparecimento = comparecimento / aptos,
faixa_etaria = paste("i", str_replace_all(faixa_etaria, " ", "_")))
df %>%
filter(faixa_etaria != "Inválido", faixa_etaria != "100 anos ou mais") %>%
mutate(tx_comparecimento = comparecimento / aptos,
faixa_etaria = paste("i", str_replace_all(faixa_etaria, " ", "_"), "")) %>%
select(id_municipio , passe_livre, faixa_etaria, tx_comparecimento)
df.reg <- df %>%
filter(faixa_etaria != "Inválido", faixa_etaria != "100 anos ou mais") %>%
mutate(tx_comparecimento = comparecimento / aptos,
faixa_etaria = str_c("i", str_replace_all(faixa_etaria, " ", "_"))) %>%
select(id_municipio , passe_livre, faixa_etaria, tx_comparecimento) %>%
pivot_wider(names_from = faixa_etaria, values_from = tx_comparecimento) %>%
mutate(across(!c(id_municipio, passe_livre), ~ . - `65 a 69 anos`))
df %>%
filter(faixa_etaria != "Inválido", faixa_etaria != "100 anos ou mais") %>%
mutate(tx_comparecimento = comparecimento / aptos,
faixa_etaria = str_c("i", str_replace_all(faixa_etaria, " ", "_"))) %>%
select(id_municipio , passe_livre, faixa_etaria, tx_comparecimento)
df.reg <- df %>%
filter(faixa_etaria != "Inválido", faixa_etaria != "100 anos ou mais") %>%
mutate(tx_comparecimento = comparecimento / aptos,
faixa_etaria = str_c("i", str_replace_all(faixa_etaria, " ", "_"))) %>%
select(id_municipio , passe_livre, faixa_etaria, tx_comparecimento) %>%
pivot_wider(names_from = faixa_etaria, values_from = tx_comparecimento) %>%
mutate(across(!c(id_municipio, passe_livre), ~ . - i65_a_69_anos))
df.reg <- df %>%
filter(faixa_etaria != "Inválido", faixa_etaria != "100 anos ou mais",
faixa_etaria != "18 a 20 anos", faixa_etaria != "16 e 17 anos") %>%
mutate(tx_comparecimento = comparecimento / aptos,
faixa_etaria = str_c("i", str_replace_all(faixa_etaria, " ", "_"))) %>%
select(id_municipio , passe_livre, faixa_etaria, tx_comparecimento) %>%
pivot_wider(names_from = faixa_etaria, values_from = tx_comparecimento) %>%
mutate(across(!c(id_municipio, passe_livre), ~ . - i65_a_69_anos))
df.reg <- df %>%
filter(faixa_etaria != "Inválido", faixa_etaria != "100 anos ou mais") %>%
mutate(tx_comparecimento = comparecimento / aptos,
faixa_etaria = str_c("i", str_replace_all(faixa_etaria, " ", "_"))) %>%
select(id_municipio , passe_livre, faixa_etaria, tx_comparecimento) %>%
pivot_wider(names_from = faixa_etaria, values_from = tx_comparecimento)
View(df.reg)
df.reg <- df %>%
filter(faixa_etaria != "Inválido", faixa_etaria != "100 anos ou mais") %>%
mutate(tx_comparecimento = comparecimento / aptos,
faixa_etaria = str_replace_all(faixa_etaria, " ", "_"),
faixa_etaria = str_c("i", faixa_etaria)) %>%
select(id_municipio , passe_livre, faixa_etaria, tx_comparecimento) %>%
pivot_wider(names_from = faixa_etaria, values_from = tx_comparecimento) %>%
mutate(across(!c(id_municipio, passe_livre), ~ . - i65_a_69_anos))
df %>%
filter(faixa_etaria != "Inválido", faixa_etaria != "100 anos ou mais") %>%
mutate(tx_comparecimento = comparecimento / aptos,
faixa_etaria = str_replace_all(faixa_etaria, " ", "_"),
faixa_etaria = str_c("i", faixa_etaria))
df.reg <- df %>%
filter(faixa_etaria != "Inválido", faixa_etaria != "100 anos ou mais") %>%
mutate(tx_comparecimento = comparecimento / aptos,
faixa_etaria = str_replace_all(faixa_etaria, " ", "_"),
faixa_etaria = str_c("i", faixa_etaria)) %>%
select(id_municipio , passe_livre, faixa_etaria, tx_comparecimento)
View(df.reg)
View(df)
df.reg <- df %>%
filter(faixa_etaria != "Inválido", faixa_etaria != "100 anos ou mais") %>%
mutate(tx_comparecimento = comparecimento / aptos,
faixa_etaria = str_replace_all(faixa_etaria, " ", "_"),
faixa_etaria = str_c("i", faixa_etaria)) %>%
select(ano, id_municipio , passe_livre, faixa_etaria, tx_comparecimento) %>%
pivot_wider(names_from = faixa_etaria, values_from = tx_comparecimento) %>%
mutate(across(!c(id_municipio, passe_livre), ~ . - i65_a_69_anos))
df.reg <- df %>%
filter(faixa_etaria != "Inválido", faixa_etaria != "100 anos ou mais") %>%
mutate(tx_comparecimento = comparecimento / aptos,
faixa_etaria = str_replace_all(faixa_etaria, " ", "_"),
faixa_etaria = str_c("i", faixa_etaria)) %>%
select(ano, id_municipio , passe_livre, faixa_etaria, tx_comparecimento)
View(df.reg)
?pivot_wider
df.reg %>%
pivot_wider(names_from = faixa_etaria,
values_from = tx_comparecimento,
id_cols = c(ano, id_municipio, passe_livre))
df.reg <- df %>%
filter(faixa_etaria != "Inválido", faixa_etaria != "100 anos ou mais") %>%
mutate(tx_comparecimento = comparecimento / aptos,
faixa_etaria = str_replace_all(faixa_etaria, " ", "_"),
faixa_etaria = str_c("i", faixa_etaria)) %>%
select(ano, id_municipio, turno, passe_livre, faixa_etaria, tx_comparecimento)
df.reg %>%
pivot_wider(names_from = faixa_etaria,
values_from = tx_comparecimento,
id_cols = c(ano, id_municipio, passe_livre))
View(df.reg)
df.reg %>%
pivot_wider(names_from = faixa_etaria,
values_from = tx_comparecimento,
id_cols = c(ano, turno, id_municipio, passe_livre))
df.reg %>%
pivot_wider(names_from = faixa_etaria,
values_from = tx_comparecimento,
id_cols = c(ano, turno, id_municipio, passe_livre)) %>%
View()
df.reg <- df %>%
filter(faixa_etaria != "Inválido", faixa_etaria != "100 anos ou mais") %>%
mutate(tx_comparecimento = comparecimento / aptos,
faixa_etaria = str_replace_all(faixa_etaria, " ", "_"),
faixa_etaria = str_c("i", faixa_etaria)) %>%
select(ano, id_municipio, turno, passe_livre, faixa_etaria, tx_comparecimento) %>%
pivot_wider(names_from = faixa_etaria,
values_from = tx_comparecimento,
id_cols = c(ano, turno, id_municipio, passe_livre)) %>%
mutate(across(!c(id_municipio, passe_livre), ~ . - i65_a_69_anos))
df.reg <- df %>%
filter(faixa_etaria != "Inválido", faixa_etaria != "100 anos ou mais") %>%
mutate(tx_comparecimento = comparecimento / aptos,
faixa_etaria = str_replace_all(faixa_etaria, " ", "_"),
faixa_etaria = str_c("i", faixa_etaria)) %>%
select(ano, id_municipio, turno, passe_livre, faixa_etaria, tx_comparecimento) %>%
pivot_wider(names_from = faixa_etaria,
values_from = tx_comparecimento,
id_cols = c(ano, turno, id_municipio, passe_livre)) %>%
mutate(across(!c(id_municipio, passe_livre, turno, ano), ~ . - i65_a_69_anos))
df.reg <- df %>%
filter(faixa_etaria != "Inválido", faixa_etaria != "100 anos ou mais") %>%
mutate(tx_comparecimento = comparecimento / aptos,
faixa_etaria = str_replace_all(faixa_etaria, " ", "_"),
faixa_etaria = str_c("i", faixa_etaria)) %>%
select(ano, id_municipio, turno, passe_livre, faixa_etaria, tx_comparecimento) %>%
pivot_wider(names_from = faixa_etaria,
values_from = tx_comparecimento,
id_cols = c(ano, turno, id_municipio, passe_livre))
View(df.reg)
df.reg <- df %>%
filter(faixa_etaria != "Inválido", faixa_etaria != "100 anos ou mais") %>%
mutate(tx_comparecimento = comparecimento / aptos,
faixa_etaria = str_replace_all(faixa_etaria, " ", "_"),
faixa_etaria = str_c("i", faixa_etaria)) %>%
select(ano, id_municipio, turno, passe_livre, faixa_etaria, tx_comparecimento) %>%
pivot_wider(names_from = faixa_etaria,
values_from = tx_comparecimento,
id_cols = c(ano, turno, id_municipio, passe_livre),
values_fn = {sum}) %>%
mutate(across(!c(id_municipio, passe_livre, turno, ano), ~ . - i65_a_69_anos))
View(df.reg)
modelo.feols <- i60_a_64_anos ~ passe_livre | ano + id_municipio
feols(modelo.feols, data = df.reg) %>%
summary(.)
feols(i55_a_59_anos ~ passe_livre | ano + id_municipio, data = df.reg) %>%
summary(.)
df.psm <- read_csv("dados/psm.csv") %>%
left_join(passe_livre) %>%
filter(turno == 2)
passe_livre <- read_csv("dados/passe_livre.csv")
df.psm <- read_csv("dados/psm.csv") %>%
left_join(passe_livre) %>%
filter(turno == 2)
modelo.psm <- passe_livre ~ razao_dependencia + taxa_envelhecimento + expectativa_anos_estudo +
taxa_analfabetismo_18_mais + indice_gini + prop_pobreza_extrema + log(renda_pc) + idhm +
taxa_desocupacao_18_mais  + taxa_agua_encanada + log(populacao) + populacao_urbana
df.match <- matchit(modelo.psm, data=df.psm, link="probit", replace = T) %>%
get_matches(distance = "propscore", data=df.psm) %>%
mutate(id_municipio_unico = paste(id_municipio, subclass, sep = "-")) %>%
select(id_municipio, id_municipio_unico) %>%
left_join(df %>% filter(turno == 2))
modelo.feols <-
feols(i60_a_64_anos ~ passe_livre | ano + id_municipio, data = df.reg %>% filter(turno == 2)) %>%
summary(.)
df.reg
df.reg %>% filter(turno == 2)
feols(i60_a_64_anos ~ passe_livre | ano + id_municipio, data = df.reg %>% filter(turno == 2)) %>%
summary(.)
df.reg %>% filter(turno == 1)
feols(i60_a_64_anos ~ passe_livre | ano + id_municipio, data = df.reg %>% filter(turno == 1)) %>%
summary(.)
feols(i60_a_64_anos ~ passe_livre + turno | ano + id_municipio, data = df.reg) %>%
summary(.)
feols(i60_a_64_anos ~ passe_livre * turno | ano + id_municipio, data = df.reg) %>%
summary(.)
feols(i60_a_64_anos ~ passe_livre * factor(turno) | ano + id_municipio, data = df.reg) %>%
summary(.)
df.reg <- df.match %>%
filter(faixa_etaria != "Inválido", faixa_etaria != "100 anos ou mais") %>%
mutate(tx_comparecimento = comparecimento / aptos,
faixa_etaria = str_replace_all(faixa_etaria, " ", "_"),
faixa_etaria = str_c("i", faixa_etaria)) %>%
select(ano, id_municipio, turno, passe_livre, faixa_etaria, tx_comparecimento) %>%
pivot_wider(names_from = faixa_etaria,
values_from = tx_comparecimento,
id_cols = c(ano, turno, id_municipio, passe_livre),
values_fn = {sum}) %>%
mutate(across(!c(id_municipio, passe_livre, turno, ano), ~ . - i65_a_69_anos))
feols(i60_a_64_anos ~ passe_livre * factor(turno) | ano + id_municipio, data = df.reg) %>%
summary(.)
View(df.reg)
View(df.reg)
feols(i60_a_64_anos ~ passe_livre ano + id_municipio, data = df.reg) %>%
summary(.)
feols(i60_a_64_anos ~ passe_livre | ano + id_municipio, data = df.reg) %>%
summary(.)
feols(i55_a_59_anos ~ passe_livre | ano + id_municipio, data = df.reg) %>%
summary(.)
#Balanceamento antes do PSM
df.psm %>%
mutate(ps = predict(glm(modelo.psm, data = ., family = binomial(link = "logit")), type = "response")) %>%
ggplot() +
geom_density(aes(ps, fill = factor(passe_livre)), alpha = 1) +
labs(x = "Propensity Score", y = "Densidade") +
scale_x_continuous(labels = scales::percent_format(scale = 100),
limits = c(0,1))
df.reg <- df %>%
filter(faixa_etaria != "Inválido", faixa_etaria != "100 anos ou mais") %>%
mutate(tx_comparecimento = comparecimento / aptos,
faixa_etaria = str_replace_all(faixa_etaria, " ", "_"),
faixa_etaria = str_c("i", faixa_etaria)) %>%
select(ano, id_municipio, turno, passe_livre, faixa_etaria, tx_comparecimento) %>%
pivot_wider(names_from = faixa_etaria,
values_from = tx_comparecimento,
id_cols = c(ano, turno, id_municipio, passe_livre),
values_fn = {sum}) %>%
mutate(across(!c(id_municipio, passe_livre, turno, ano), ~ . - i65_a_69_anos))
feols(i60_a_64_anos ~ passe_livre | ano + id_municipio, data = df.reg) %>%
summary(.)
df.reg <- df.match %>%
filter(faixa_etaria != "Inválido", faixa_etaria != "100 anos ou mais") %>%
mutate(tx_comparecimento = comparecimento / aptos,
faixa_etaria = str_replace_all(faixa_etaria, " ", "_"),
faixa_etaria = str_c("i", faixa_etaria)) %>%
select(ano, id_municipio, turno, passe_livre, faixa_etaria, tx_comparecimento) %>%
pivot_wider(names_from = faixa_etaria,
values_from = tx_comparecimento,
id_cols = c(ano, turno, id_municipio, passe_livre),
values_fn = {sum}) %>%
mutate(across(!c(id_municipio, passe_livre, turno, ano), ~ . - i65_a_69_anos))
feols(i60_a_64_anos ~ passe_livre | ano + id_municipio, data = df.reg) %>%
summary(.)
feols(i55_a_59_anos ~ passe_livre | ano + id_municipio, data = df.reg) %>%
summary(.)
feols(i65_a_69_anos ~ passe_livre | ano + id_municipio, data = df.reg) %>%
summary(.)
feols(i70_a_74_anos ~ passe_livre | ano + id_municipio, data = df.reg) %>%
summary(.)
feols(i60_a_64_anos ~ passe_livre | ano + id_municipio, data = df.reg) %>%
summary(.)
df.reg <- df.match %>%
filter(faixa_etaria != "Inválido", faixa_etaria != "100 anos ou mais") %>%
mutate(tx_comparecimento = comparecimento / aptos,
faixa_etaria = str_replace_all(faixa_etaria, " ", "_"),
faixa_etaria = str_c("i", faixa_etaria)) %>%
select(ano, id_municipio, turno, passe_livre, faixa_etaria, tx_comparecimento) %>%
pivot_wider(names_from = faixa_etaria,
values_from = tx_comparecimento,
id_cols = c(ano, turno, id_municipio, passe_livre),
values_fn = {sum})
View(df.reg)
df.reg <- df.match %>%
filter(faixa_etaria != "Inválido", faixa_etaria != "100 anos ou mais") %>%
mutate(tx_comparecimento = comparecimento / aptos,
faixa_etaria = str_replace_all(faixa_etaria, " ", "_"),
faixa_etaria = str_c("i", faixa_etaria)) %>%
select(ano, id_municipio, turno, passe_livre, faixa_etaria, tx_comparecimento) %>%
pivot_wider(names_from = faixa_etaria,
values_from = tx_comparecimento,
id_cols = c(ano, turno, id_municipio, passe_livre),
values_fn = {sum}) %>%
mutate(across(!c(id_municipio, passe_livre, turno, ano), ~ . - i65_a_69_anos))
View(df.reg)
feols(i60_a_64_anos ~ passe_livre, data = df.reg) %>%
summary(.)
feols(i60_a_64_anos ~ passe_livre | ano + id_municipio, data = df.reg) %>%
summary(.)
View(df.reg)
df.reg <- df.match %>%
filter(faixa_etaria != "Inválido", faixa_etaria != "100 anos ou mais") %>%
mutate(tx_comparecimento = comparecimento / aptos,
faixa_etaria = str_replace_all(faixa_etaria, " ", "_"),
faixa_etaria = str_c("i", faixa_etaria)) %>%
select(ano, id_municipio, turno, passe_livre, faixa_etaria, tx_comparecimento) %>%
pivot_wider(names_from = faixa_etaria,
values_from = tx_comparecimento,
id_cols = c(ano, turno, id_municipio, passe_livre),
values_fn = {sum})
View(df.reg)
df.reg <- df.match %>%
filter(faixa_etaria != "Inválido", faixa_etaria != "100 anos ou mais") %>%
mutate(tx_comparecimento = comparecimento / aptos,
faixa_etaria = str_replace_all(faixa_etaria, " ", "_"),
faixa_etaria = str_c("i", faixa_etaria)) %>%
select(ano, id_municipio, turno, passe_livre, faixa_etaria, tx_comparecimento)
View(df.reg)
df_original <- bind_rows(list(
read_csv("dados/resultado/votacao_candidato_munzona_2014_BRASIL.csv"),
read_csv("dados/resultado/votacao_candidato_munzona_2018_BRASIL.csv"),
read_csv("dados/resultado/votacao_candidato_munzona_2022_BRASIL.csv"),
))
df <- read_csv("dados/resultado/votacao_candidato_munzona_2014_BRASIL.csv")
View(df)
df_original <- bind_rows(list(
read_csv("dados/resultado/votacao_candidato_munzona_2014_BRASIL.csv"),
read_csv("dados/resultado/votacao_candidato_munzona_2018_BRASIL.csv"),
))
df2 <- read_csv("dados/resultado/votacao_candidato_munzona_2018_BRASIL.csv")
df1 <- read_csv("dados/resultado/votacao_candidato_munzona_2014_BRASIL.csv")
remove(df)
View(df1)
View(df2)
colnames(df1)
colnames(df2)
df_original <- bind_rows(list(
read_csv("dados/resultado/votacao_candidato_munzona_2014_BRASIL.csv"),
read_csv("dados/resultado/votacao_candidato_munzona_2018_BRASIL.csv"),
))
df_original <- bind_rows(list(
read_csv("dados/resultado/votacao_candidato_munzona_2014_BRASIL.csv"),
read_csv("dados/resultado/votacao_candidato_munzona_2018_BRASIL.csv")
))
df_original <- bind_rows(list(
read_csv("dados/resultado/votacao_candidato_munzona_2014_BRASIL.csv"),
read_csv("dados/resultado/votacao_candidato_munzona_2018_BRASIL.csv"),
read_csv("dados/resultado/votacao_candidato_munzona_2018_BRASIL.csv")
))
remove(df1)
remove(df2)
View(df_original)
df_original %>%
pivot_wider(names_from = DS_SIT_TOT_TURNO, values_from = QT_VOTOS_NOMINAIS)
df_original %>%
pivot_wider(names_from = DS_SIT_TOT_TURNO, values_from = QT_VOTOS_NOMINAIS) %>%
View()
?abs
mutate(k = 1/abs(log(E/N))
)
df_original %>%
mutate(DS_SIT_TOT_TURNO = ifelse(DS_SIT_TOT_TURNO == "ELEITO", "E", "N")) %>%
pivot_wider(names_from = DS_SIT_TOT_TURNO, values_from = QT_VOTOS_NOMINAIS) %>%
mutate(k = 1/abs(log(E/N))) %>%
View()
View(df_original)
df_original %>%
mutate(DS_SIT_TOT_TURNO = ifelse(DS_SIT_TOT_TURNO == "ELEITO", "E", "N")) %>%
pivot_wider(names_from = DS_SIT_TOT_TURNO, values_from = QT_VOTOS_NOMINAIS) %>%
mutate(k = 1/abs(log(E/N)))
df_original %>%
mutate(DS_SIT_TOT_TURNO = ifelse(DS_SIT_TOT_TURNO == "ELEITO", "E", "N")) %>%
pivot_wider(names_from = DS_SIT_TOT_TURNO, values_from = QT_VOTOS_NOMINAIS)
df_original %>%
mutate(DS_SIT_TOT_TURNO = ifelse(DS_SIT_TOT_TURNO == "ELEITO", "eleito", "naoeleito")) %>%
pivot_wider(names_from = DS_SIT_TOT_TURNO, values_from = QT_VOTOS_NOMINAIS) %>%
mutate(k = 1/abs(log(eleito/naoeleito))) %>%
View()
df_original %>%
mutate(DS_SIT_TOT_TURNO = ifelse(DS_SIT_TOT_TURNO == "ELEITO", "eleito", "naoeleito")) %>%
pivot_wider(names_from = DS_SIT_TOT_TURNO, values_from = QT_VOTOS_NOMINAIS)
df_original %>%
mutate(DS_SIT_TOT_TURNO = ifelse(DS_SIT_TOT_TURNO == "ELEITO", "eleito", "naoeleito")) %>%
pivot_wider(names_from = DS_SIT_TOT_TURNO, values_from = QT_VOTOS_NOMINAIS) %>%
mutate(k = (eleito/naoeleito)) %>%
View()
df_original %>%
mutate(DS_SIT_TOT_TURNO = ifelse(DS_SIT_TOT_TURNO == "ELEITO", "eleito", "naoeleito")) %>%
pivot_wider(names_from = DS_SIT_TOT_TURNO, values_from = QT_VOTOS_NOMINAIS) %>%
mutate(k = (eleito-naoeleito)) %>%
View()
df_original %>%
mutate(DS_SIT_TOT_TURNO = ifelse(DS_SIT_TOT_TURNO == "ELEITO", "eleito", "naoeleito")) %>%
pivot_wider(names_from = DS_SIT_TOT_TURNO, values_from = QT_VOTOS_NOMINAIS)
df_original %>%
distinct() %>%
mutate(DS_SIT_TOT_TURNO = ifelse(DS_SIT_TOT_TURNO == "ELEITO", "eleito", "naoeleito")) %>%
pivot_wider(names_from = DS_SIT_TOT_TURNO, values_from = QT_VOTOS_NOMINAIS) %>%
mutate(k = (eleito-naoeleito)) %>%
View()
df_original %>%
distinct() %>%
mutate(DS_SIT_TOT_TURNO = ifelse(DS_SIT_TOT_TURNO == "ELEITO", "eleito", "naoeleito")) %>%
pivot_wider(names_from = DS_SIT_TOT_TURNO, values_from = QT_VOTOS_NOMINAIS)
df_original %>%
distinct() %>%
mutate(DS_SIT_TOT_TURNO = ifelse(DS_SIT_TOT_TURNO == "ELEITO", "eleito", "naoeleito")) %>%
pivot_wider(names_from = DS_SIT_TOT_TURNO, values_from = QT_VOTOS_NOMINAIS) %>%
View()
